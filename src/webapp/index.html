<html>
<head>
    <title>SIMILE | Timeplot</title>
    <link rel='stylesheet' href='styles.css' type='text/css' />
    <link rel="alternate" type="application/rdf+xml" href="doap.rdf" />
    
    <style>
        .timeplot {
            height: 200px;
            margin: 2em;
            padding: 12px;
            border: 1px solid #ccc;
        }    
    </style>
    
    <script src="api/timeplot-api.js?bundle=false" type="text/javascript"></script>
    <script>
        var timeplot1;
        var timeplot2;
        
        function onLoad() {
            var eventSource = new Timeplot.DefaultEventSource();

            var lineColor = new Timeplot.Color('#606060');
            var color1 = new Timeplot.Color('#8DDB74');
            var color2 = new Timeplot.Color('#FF7976');
            
            var plotsInfo1 = [
                Timeplot.createPlotInfo({
                    id: "web total",
                    dataSource: new Timeplot.ColumnSource(eventSource,1),
                    lineColor: color2,
                    fillColor: color2.darken(30)
                }),
                Timeplot.createPlotInfo({
                    id: "web clean",
                    dataSource: new Timeplot.ColumnSource(eventSource,2),
                    lineColor: color1
                })
            ];
            
            timeplot1 = Timeplot.create(document.getElementById("timeplot1"), plotsInfo1);
            timeplot1.loadText("examples/simile/data.txt", " ", eventSource);

            var color3 = new Timeplot.Color('#7CBCFF');
            var color4 = new Timeplot.Color('#1D58A6');
            var color5 = new Timeplot.Color('#B4AB90');
            var news = new Timeplot.ColumnSource(eventSource,3);
            var summedNews = new Timeplot.Processor(news,Timeplot.Math.integral);
            
            var plotsInfo2 = [
                Timeplot.createPlotInfo({ 
                    id: "news",
                    dataSource: summedNews,
                    lineColor: color4,
                    fillColor: color3
                }),
                Timeplot.createPlotInfo({ 
                    id: "news",
                    dataSource: news,
                    lineColor: color5,
                })
            ];
            
            timeplot2 = Timeplot.create(document.getElementById("timeplot2"), plotsInfo2);
        }
        
        var resizeTimerID = null;
        function onResize() {
            if (resizeTimerID == null) {
                resizeTimerID = window.setTimeout(function() {
                    resizeTimerID = null;
                    if (timeplot1) timeplot1.resize();
                    if (timeplot2) timeplot2.resize();
                }, 0);
            }
        }    
    </script>
</head>
<body onload="onLoad();" onresize="onResize();">
<!--#include virtual="sidebar.html" -->
<ul id="path">
  <li><a href="http://simile.mit.edu/" title="Home">SIMILE</a></li>
  <li><span>Timeplot</span></li>
</ul>

<div id="body">
    <h1>Timeplot</h1>
    <div id="timeplot1" class="timeplot"></div>
    <div id="timeplot2" class="timeplot"></div>
</div>
    
</body>
</html>
